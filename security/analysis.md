## Типы анализов
1. `Black box analysis` - когда мы анализируем систему ничего не зная о ней. Т.е. система это некоторый черный ящик, котороый что-то принимает и что-то отдаёт. При анализе у нас некоторая цель и мы используем все доступные средства для её достижения.
    * нулевая информация о цели
    * точка входа
        * домен
        * веб сайт
        * ip адресс
        * имя человека
1. `White box analysys` - когда изначально у нас есть широкие знания о системе. Задача ставится как найти все возможные уязвимости системы.

## Поверхность атаки
1. Изначально у нас есть одна точка входа. Для того чтобы повысить шансы успешной компрометации системы мы проводим анализ, с целью увеличения поверхности атаки. Т.е. находим смежные домены, адреса и т.д.
1. Методы первоначальной разведки:
    * пассивный анализ - полностью легальны, основанны на открытой информации
        * система доменных имён
        * поисковые системы
        * код клиентской части
        * карта сайта
        * содержимое `robots.txt`
        * социальные сети
    * активный анализ - не совсем легальны, может среагировать служба безопасности.
        * подбор DNS записей
        * подбор файловых путей
        * подбор портов
        * подбор пользователей

## DNS / WHOIS / NETWORK
1. Инструменты анализа
    * `nslookup [-q=ns|mx|axfr|txt|...] {name} {server}`
        * `server` - это `DNS` сервер через который мы хотим произвести запрос
    * `host {name} {server}`
    * dig [@server] {name} [type]
1. Для расширения поверхности атаки можно попробовать найти все домены данной доменной зоны. К примеру, мы хотим атаковать `example.com`, полезно было бы узнать все используемые домены данной зоны, к примеру `www.example.com`, `my.example.com`, etc.
1. Пример поиска поддоменов для учебной зоны _zonetransfer.me`
    * ищем авторитетные днс сервера для искомой зоны
        ```bash
        nslookup -q=ns zonetransfer.me
        ```

    * ищем все поддомены
        ```bash
        dig zonetransfer.me @dnsserver_from_above_response axfr
        ```

